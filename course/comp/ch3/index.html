
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="零式岚的笔记本">
      
      
      
        <link rel="canonical" href="https://note.flyburg.cc/course/comp/ch3/">
      
      
        <link rel="prev" href="../ch2/">
      
      
        <link rel="next" href="../ch4/">
      
      
      <link rel="icon" href="https://s2.loli.net/2025/01/27/oFMcIOLbZstxUjH.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>语法分析 - 零式岚的笔记本</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen:300,300i,400,400i,700,700i%7CMaple+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen";--md-code-font:"Maple Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../stylesheets/document.css">
    
      <link rel="stylesheet" href="../../../stylesheets/friends.css">
    
      <link rel="stylesheet" href="../../../stylesheets/file.css">
    
      <link rel="stylesheet" href="../../../stylesheets/article-cards.css">
    
      <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css">
    
      <link rel="stylesheet" href="https://static.zeoseven.com/zsft/92/main/result.css">
    
      <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#parsing语法分析" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="零式岚的笔记本" class="md-header__button md-logo" aria-label="零式岚的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 7V5h2V4a2 2 0 0 1 2-2h6v7l2.5-1.5L18 9V2h1c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm4 4H5v2h2zm0-4V5H5v2zm0 12v-2H5v2z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            零式岚的笔记本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              语法分析
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.5 5.6 5 7l1.4-2.5L5 2l2.5 1.4L10 2 8.6 4.5 10 7zm12 9.8L22 14l-1.4 2.5L22 19l-2.5-1.4L17 19l1.4-2.5L17 14zM22 2l-1.4 2.5L22 7l-2.5-1.4L17 7l1.4-2.5L17 2l2.5 1.4zm-8.66 10.78 2.44-2.44-2.12-2.12-2.44 2.44zm1.03-5.49 2.34 2.34c.39.37.39 1.02 0 1.41L5.04 22.71c-.39.39-1.04.39-1.41 0l-2.34-2.34c-.39-.37-.39-1.02 0-1.41L12.96 7.29c.39-.39 1.04-.39 1.41 0"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="var(--md-primary-fg-color)" data-md-color-accent="indigo"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="var(--md-primary-fg-color)" data-md-color-accent="indigo"  aria-label="切换至跟随系统模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换至跟随系统模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Flyburg/notebook" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Flyburg's Notebook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  主页

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  课程

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../self/" class="md-tabs__link">
          
  
  
    
  
  自学

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../link/friends/" class="md-tabs__link">
          
  
  
    
  
  友链

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../about/" class="md-tabs__link">
          
  
  
    
  
  关于

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="零式岚的笔记本" class="md-nav__button md-logo" aria-label="零式岚的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 7V5h2V4a2 2 0 0 1 2-2h6v7l2.5-1.5L18 9V2h1c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm4 4H5v2h2zm0-4V5H5v2zm0 12v-2H5v2z"/></svg>

    </a>
    零式岚的笔记本
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Flyburg/notebook" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Flyburg's Notebook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    主页
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    课程
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            课程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fpa/final-exam-re/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    程序设计与算法基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../fds/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    数据结构基础
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            数据结构基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fds/ch1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    算法分析基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fds/ch2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    线性数据结构
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fds/ch3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    树
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fds/ch4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    图
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fds/ch5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    排序
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fds/ch6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    散列
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ai/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    人工智能引论
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            人工智能引论
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ads/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    高级数据结构与算法分析
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            高级数据结构与算法分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AVL/Splay/摊还分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    红黑树/B+ 树
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    倒排索引
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    左式堆与斜堆
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    二项堆
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    回溯
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    分治法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    动态规划
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    贪心算法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    近似算法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    局部搜索
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/lec13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    随机算法
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../arch/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    计算机体系结构
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            计算机体系结构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    编译原理
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            编译原理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    词法分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    语法分析
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    语法分析
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-上下文无关文法" class="md-nav__link">
    <span class="md-ellipsis">
      1. 上下文无关文法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 上下文无关文法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-为什么需要-cfg" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 为什么需要 CFG？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-cfg-的定义与推导方式" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 CFG 的定义与推导方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-有歧义的-cfg" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 有歧义的 CFG
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-自顶向下的语法分析器" class="md-nav__link">
    <span class="md-ellipsis">
      2. 自顶向下的语法分析器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 自顶向下的语法分析器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-递归下降分析器" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 递归下降分析器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-预测分析" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 预测分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-消除左递归" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 消除左递归
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-错误恢复" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 错误恢复
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-自底向上的语法分析器" class="md-nav__link">
    <span class="md-ellipsis">
      3. 自底向上的语法分析器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 自底向上的语法分析器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-自底向上的思想" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 自底向上的思想
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-工作的流程" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 工作的流程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-lr0-语法分析器的构建" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 LR(0) 语法分析器的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-slr-语法分析器的构建" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 SLR 语法分析器的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-lr1-语法分析器的构建" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 LR(1) 语法分析器的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-lalr1-语法分析器的构建" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 LALR(1) 语法分析器的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37-对有歧义语法的-lr-语法分析" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 对有歧义语法的 LR 语法分析
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-yacc一种语法分析器生成器" class="md-nav__link">
    <span class="md-ellipsis">
      4. Yacc：一种语法分析器生成器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Yacc：一种语法分析器生成器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-辅助函数" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 辅助函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-定义部分" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 定义部分
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-规则部分" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 规则部分
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-优先级声明" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 优先级声明
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-错误恢复" class="md-nav__link">
    <span class="md-ellipsis">
      5. 错误恢复
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 错误恢复">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-local-error-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Local Error Recovery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-global-error-repair" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Global Error Repair
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    抽象语法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    语义分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    活动记录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    中间代码
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基本块划分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    指令选择
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    活跃分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    寄存器分配
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../self/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    自学
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            自学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../self/html/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    HTML 学习
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            HTML 学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/html/lec1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTML 简介
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/html/lec2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    段落与基本格式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/html/lec3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    其他格式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/html/lec4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    其他元素
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../self/css/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    CSS 学习
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            CSS 学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/css/lec1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS 简介
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/css/lec2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    背景样式
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../self/mkdocs/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Mkdocs 网页
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Mkdocs 网页
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/mkdocs/ready/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    简介与准备工作
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/mkdocs/build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    本地构建网站
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/mkdocs/deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    部署到 gh-pages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/mkdocs/advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    高级配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../self/mkdocs/resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    相关资源
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    友链
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            友链
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../link/friends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    友链
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../link/join/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    如何加入友链
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../about/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    关于
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            关于
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/tips/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    彩蛋
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-上下文无关文法" class="md-nav__link">
    <span class="md-ellipsis">
      1. 上下文无关文法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 上下文无关文法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-为什么需要-cfg" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 为什么需要 CFG？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-cfg-的定义与推导方式" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 CFG 的定义与推导方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-有歧义的-cfg" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 有歧义的 CFG
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-自顶向下的语法分析器" class="md-nav__link">
    <span class="md-ellipsis">
      2. 自顶向下的语法分析器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 自顶向下的语法分析器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-递归下降分析器" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 递归下降分析器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-预测分析" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 预测分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-消除左递归" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 消除左递归
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-错误恢复" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 错误恢复
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-自底向上的语法分析器" class="md-nav__link">
    <span class="md-ellipsis">
      3. 自底向上的语法分析器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 自底向上的语法分析器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-自底向上的思想" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 自底向上的思想
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-工作的流程" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 工作的流程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-lr0-语法分析器的构建" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 LR(0) 语法分析器的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-slr-语法分析器的构建" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 SLR 语法分析器的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-lr1-语法分析器的构建" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 LR(1) 语法分析器的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-lalr1-语法分析器的构建" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 LALR(1) 语法分析器的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37-对有歧义语法的-lr-语法分析" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 对有歧义语法的 LR 语法分析
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-yacc一种语法分析器生成器" class="md-nav__link">
    <span class="md-ellipsis">
      4. Yacc：一种语法分析器生成器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Yacc：一种语法分析器生成器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-辅助函数" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 辅助函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-定义部分" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 定义部分
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-规则部分" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 规则部分
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-优先级声明" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 优先级声明
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-错误恢复" class="md-nav__link">
    <span class="md-ellipsis">
      5. 错误恢复
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 错误恢复">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-local-error-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Local Error Recovery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-global-error-repair" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Global Error Repair
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/Flyburg/notebook/edit/main/docs/course/comp/ch3.md" title="编辑此页" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="parsing语法分析">Parsing：语法分析<a class="headerlink" href="#parsing语法分析" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 6359 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg></span> 72 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 4 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 22 分钟</p>
</div>
<details class="abstract">
<summary>概述</summary>
<p>语法分析（Syntax Analysis）是编译器的前端工作之一，它的任务是<strong>检查程序的语法</strong>（短语结构）。下面这张图展示了编译器的前端工作流程。</p>
<p><figure markdown="span">
    <img alt="front-end.png" src="https://s2.loli.net/2025/03/05/6b1lW8ARPpdt9yc.png" width="500" />
</figure></p>
<p>红色框出的部分即为语法分析的工作，接收 token 流，按照给定的语法进行语法分析，输出抽象语法树。</p>
<p><strong>如何构建一个语法分析器？</strong></p>
<ul>
<li>描述编程语言的语法规则（使用上下文无关文法）</li>
<li>依据 CFG 来构建语法分析器：<ul>
<li>Top-Down Parsing<ul>
<li>Predictive Parsing</li>
</ul>
</li>
<li>Bottom-Up Parsing</li>
</ul>
</li>
</ul>
</details>
<h2 id="1-上下文无关文法">1. 上下文无关文法<a class="headerlink" href="#1-上下文无关文法" title="Permanent link">&para;</a></h2>
<h3 id="11-为什么需要-cfg">1.1 为什么需要 CFG？<a class="headerlink" href="#11-为什么需要-cfg" title="Permanent link">&para;</a></h3>
<p>虽然词法分析能够辨析出合法和不合法的 tokens，但是这不代表一连串的 tokens 就能够组成一个正确的程序。语法分析器必须能够辨别出合法的 token 序列。为此，我们需要：</p>
<ul>
<li>形式化描述合法的 token 序列</li>
<li>一种能够识别这种描述的算法</li>
</ul>
<p>在词法分析一节中，我们介绍了正则语言，实际上正则语言是描述能力最弱的一种形式化语言。例如考虑下面的语言：</p>
<div class="arithmatex">\[
\{ (^i)^i \mid i \geq 0 \}
\]</div>
<p>这是一种递归定义的语言（空串或任意数量的括号对），遗憾的是，正则语言无法描述这种语言（这个语言不是正则的）。而这种递归语言在编程语言非常常见，所以我们需要一种拥有更强描述能力的语言。</p>
<h3 id="12-cfg-的定义与推导方式">1.2 CFG 的定义与推导方式<a class="headerlink" href="#12-cfg-的定义与推导方式" title="Permanent link">&para;</a></h3>
<p>CFG 的定义在计算理论中已经详细介绍过，这里不再赘述。</p>
<p>CFG 形式化描述了合法的 token 序列，而 <strong>CFG 的推导过程则可以用来区分合法和不合法的 token 序列</strong>。能够由 start symbol 推导出来的 token 序列是合法的，否则是不合法的。合法的 token 序列实际上就是 CFG 对应的语言 <span class="arithmatex">\(L(G)\)</span>。</p>
<p>推导过程可以画出一棵树来，而依据推导方式和顺序的区别，又有 left-most derivation 和 right-most derivation 之分（也有既不是 left-most 也不是 right-most 的中间推导）。</p>
<details class="example">
<summary>CFG 推导的例子</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>E -&gt; E * E        E -&gt; E - E        E -&gt; (E)
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>E -&gt; E / E        E -&gt; id
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>E -&gt; E + E        E -&gt; num
</span></code></pre></div>
<p>根据上面的规则，如果想推导 <code>id * id + id</code>，可以有多种推导方式，例如：</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="image1.png" src="https://s2.loli.net/2025/03/06/735xbnzBpiW4FKs.png" width="150" /></th>
<th style="text-align: center;"><img alt="image2.png" src="https://s2.loli.net/2025/03/06/t9qkw1eXQrb5zvW.png" width="150" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">最左推导</td>
<td style="text-align: center;">最右推导</td>
</tr>
</tbody>
</table>
</details>
<p>对语法树的中序遍历，就是对应的原始表达式。</p>
<p>而对于语法分析来说，不仅要知道一个 token 序列是否合法，还要构建出对应的语法树，这就是语法分析的任务。<strong>对于一个没有歧义的 CFG，最左推导和最右推导得到的语法树都是唯一的</strong>。</p>
<h3 id="13-有歧义的-cfg">1.3 有歧义的 CFG<a class="headerlink" href="#13-有歧义的-cfg" title="Permanent link">&para;</a></h3>
<p>我们称一个语法是有歧义的（ambiguous），如果存在一个句子可以被这个语法推导出多个不同的语法树。也就是说，对于某个字符串，有不止一个最左推导或最右推导。</p>
<p>例如上面的例子，如果采用这种语法分析，那么 <code>id * id + id</code> 就会有两种不同的语法树，这就是有歧义的。当进行计算的时候（例如 <code>2 * 3 + 4</code>），两种语法树会得到不同的结果。</p>
<p><strong>有歧义的语法不适合作为一种编程语言的语法</strong>，因为这会导致程序的行为不确定。所以在设计编程语言的语法时，要尽量避免歧义。</p>
<p>为了解决可能出现的歧义，最直接的方式就是改写：将有歧义的语法改写成无歧义的语法。例如，对于上面的例子，我们希望：</p>
<ul>
<li>乘法优先级高于加法</li>
<li>每种操作都是左结合的</li>
</ul>
<p>解决方案是<strong>引入新的非终结符</strong>，使得某些产生式比另一些产生式更晚被使用。例如，可以将上面的例子改写为：</p>
<div class="language-text highlight"><span class="filename">改写后的四则运算语法</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>E -&gt; E + T        T -&gt; T * F        F -&gt; id
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>E -&gt; E - T        T -&gt; T / F        F -&gt; num
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>E -&gt; T            T -&gt; F            F -&gt; (E)
</span></code></pre></div>
<p>其中，<code>E</code> 表示表达式，<code>T</code> 表示项，<code>F</code> 表示因子。这样就解决了乘法优先级高于加法的问题。同时，由于使用的是类似 <code>X -&gt; X op Y</code> 的产生式，所以能够保证左结合性。</p>
<p>体现在语法树上，上述的改动就是：</p>
<ul>
<li>优先级：更高优先级的操作离根节点越远，越晚被推导出来</li>
<li>结合型：使用<strong>左递归（left recursion）</strong>，也即：产生式右边的第一个 symbol 与产生式左边的 symbol 相同</li>
</ul>
<blockquote>
<p>同理，如果想要实现右结合，只需要使用右递归即可。</p>
</blockquote>
<p>此外在编程语言语法中还存在 EOF 终结符。</p>
<details class="note">
<summary>EOF</summary>
<p>在这里使用美元符号 <code>$</code> 表示 EOF（End of File），表示 token 流的结束。</p>
<p>如果题目没有显式地画出 EOF，需要我们手动在前面加上一个类似 <code>S'-&gt;S$</code> 的产生式，其中 <code>S'</code> 是新的起始符号。</p>
</details>
<h2 id="2-自顶向下的语法分析器">2. 自顶向下的语法分析器<a class="headerlink" href="#2-自顶向下的语法分析器" title="Permanent link">&para;</a></h2>
<p>语法分析器分三种：（1）Universal 通用的；（2）Top-Down 自顶向下的；（3）Bottom-Up 自底向上的。</p>
<ul>
<li><strong>Universal</strong>：能够处理任何 CFG，但是效率较低</li>
<li><strong>Top-Down</strong>：从起始符号开始，逐步推导出 token 序列，直到得到输入的 token 序列</li>
<li><strong>Bottom-Up</strong>：从输入的 token 序列开始，逐步推导出起始符号</li>
</ul>
<details class="info">
<summary>自顶向下与自底向上语法分析器的异同</summary>
<p><strong>同</strong>：</p>
<ul>
<li>
<p>无论是自顶向下还是自底向上，都是从左向右扫描输入，一次处理一个 symbol。</p>
</li>
<li>
<p>虽然最有效的 TD 语法分析与 BU 语法分析器都只针对<strong>某些特定的语法</strong>才能 work，但是这些（例如 LL 和 LR 语法）语法的能力已经足够来描述大多数编程语言的语法。</p>
</li>
</ul>
<p><strong>异</strong>：</p>
<ul>
<li>手动实现的语法分析器一般使用 LL 语法；</li>
<li>自动工具实现的语法分析器一般使用 LR 语法，LR 语法比 LL 语法更强大。</li>
</ul>
</details>
<p>Top-Down 语法分析器的特点是：</p>
<ul>
<li>语法树从顶向下构建，从左向右构建</li>
<li>可以视作寻找输入序列的<strong>最左推导</strong></li>
</ul>
<h3 id="21-递归下降分析器">2.1 递归下降分析器<a class="headerlink" href="#21-递归下降分析器" title="Permanent link">&para;</a></h3>
<p>递归下降（Recursive Descent）：</p>
<ul>
<li>属于 TD 语法分析的一个通用形式</li>
<li>非常简单，可以手动实现</li>
<li>为了寻找正确的产生式，有可能会发生回溯（backtracing）</li>
</ul>
<p>手写的方式为：</p>
<ul>
<li>对每一个非终结符，都有一个递归的函数</li>
<li>每个产生式都是这个函数的一个 case。</li>
</ul>
<details class="example">
<summary>举个例子</summary>
<p>对于语法：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>S -&gt; if E then S else S       L -&gt; end
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>S -&gt; begin S L                L -&gt; ; S L
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>S -&gt; print E                  E -&gt; num = num
</span></code></pre></div>
<p>针对非终结符 <code>L</code>，可以写出如下的递归下降分析器：</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">L</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">tok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">END</span><span class="p">:</span><span class="w"> </span><span class="n">eat</span><span class="p">(</span><span class="n">END</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">SEMI</span><span class="p">:</span><span class="w"> </span><span class="n">eat</span><span class="p">(</span><span class="n">SEMI</span><span class="p">);</span><span class="w"> </span><span class="n">S</span><span class="p">();</span><span class="w"> </span><span class="n">L</span><span class="p">();</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">error</span><span class="p">();</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="p">}</span>
</span></code></pre></div>
<p>以此类推。完整的编写步骤为：</p>
<ol>
<li>先枚举出 tokens</li>
<li>从 lexer 获得 <code>getToken()</code> 函数等</li>
<li>递归下降函数的编写</li>
</ol>
</details>
<p>上面这个例子是很特殊的：对于每一个非终结符，所有的产生式右边的第一个 symbol 都是<strong>不同的</strong>、<strong>非终结符</strong>。然而如果说遇到下列情况：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>S -&gt; S L | begin E, S L
</span></code></pre></div>
<p>那么当 <code>tok</code> 为 <code>begin</code> 时，就无法确定是 <code>S -&gt; S L</code> 还是 <code>S -&gt; begin E, S L</code>，这就需要<strong>回溯</strong>：</p>
<ul>
<li>回溯的代价很大</li>
<li>步骤数量有可能呈指数级增长</li>
</ul>
<p>于是我们在寻求一种不需要回溯的递归下降方法：<strong>预测分析</strong>。</p>
<h3 id="22-预测分析">2.2 预测分析<a class="headerlink" href="#22-预测分析" title="Permanent link">&para;</a></h3>
<p>预测分析（Predictive Parsing）：</p>
<ul>
<li>是一种特殊的递归下降分析</li>
<li>不需要回溯</li>
<li>通过向前看固定数量的输入 symbols（一般是一个）来决定使用哪个产生式</li>
<li>能够解析 LL(k) 文法：从左到右扫描，最左推导，k 个向前看</li>
</ul>
<p>如何预测选择产生式呢？假设 k=1，那么：</p>
<ol>
<li>首先，我们需要知道这个非终结符的所有产生式中<strong>可能出现的第一个终结符</strong></li>
<li>然后，如果多个产生式的【可能出现的第一个终结符】相同，那么就需要重写语法，使得只能使用一个产生式。</li>
</ol>
<p>对于第 1 点，我们该如何知道一个非终结符的所有产生式中可能出现的第一个终结符呢？这里引入两个概念：First 和 Follow。</p>
<div class="admonition note">
<p class="admonition-title">First 与 Follow 集合</p>
<p>这里假设：</p>
<ul>
<li><span class="arithmatex">\(\gamma, \beta, \delta\)</span> 是文法符号串（可能包含终结符和非终结符）</li>
<li><span class="arithmatex">\(X\)</span> 是一个非终结符</li>
<li><span class="arithmatex">\(t\)</span> 是一个终结符</li>
</ul>
<p>两个集合的定义为：</p>
<ul>
<li><span class="arithmatex">\(\text{FIRST}(\gamma)\)</span>：如果 <span class="arithmatex">\(\gamma \rightarrow^* t\beta\)</span>，那么 <span class="arithmatex">\(t \in \text{FIRST}(\gamma)\)</span><ul>
<li>这代表着 <span class="arithmatex">\(\gamma\)</span> <strong>能够在第一个位置推导出</strong>终结符 <span class="arithmatex">\(t\)</span></li>
<li><span class="arithmatex">\(\text{FIRST}(\gamma)\)</span> 是能够作为【<span class="arithmatex">\(\gamma\)</span> 推导出的字符串的开头】的终结符的集合</li>
</ul>
</li>
<li><span class="arithmatex">\(\text{FOLLOW}(X)\)</span>：如果 <span class="arithmatex">\(S \rightarrow^* \beta X t\delta\)</span>，那么 <span class="arithmatex">\(t \in \text{FOLLOW}(X)\)</span><ul>
<li>如果推导式包含 <span class="arithmatex">\(XYZt\)</span> 且 <span class="arithmatex">\(Y\)</span> 和 <span class="arithmatex">\(Z\)</span> 可以推导出空串 <span class="arithmatex">\(\epsilon\)</span>，那么 <span class="arithmatex">\(t\)</span> 也可能在 <span class="arithmatex">\(X\)</span> 后面，也就是说 <span class="arithmatex">\(t \in \text{FOLLOW}(X)\)</span></li>
<li><span class="arithmatex">\(\text{FOLLOW}(X)\)</span> 是能够作为【<span class="arithmatex">\(X\)</span> 推导出的字符串的直接后续】的终结符的集合</li>
</ul>
</li>
</ul>
</div>
<details class="info">
<summary>First 集合的计算方法</summary>
<ul>
<li><strong>Base case</strong>:<ul>
<li>如果 <span class="arithmatex">\(X\)</span> 是终结符，那么 <span class="arithmatex">\(\text{FIRST}(X) = \{X\}\)</span></li>
<li>如果 <span class="arithmatex">\(X\)</span> 是非终结符，那么初始化 <span class="arithmatex">\(\text{FIRST}(X) = \{\}\)</span></li>
</ul>
</li>
<li><strong>Induction</strong>:
    如果 <span class="arithmatex">\(X\)</span> 是非终结符，并且 <span class="arithmatex">\(X \rightarrow Y_1Y_2 \cdots Y_k\)</span>，那么 <span class="arithmatex">\(\text{FIRST}(X)=\text{FIRST}(X) \cup \text{FIRST}(Y_1)\)</span>，如果 <span class="arithmatex">\(Y_1\)</span> 可以推导出空串 <span class="arithmatex">\(\epsilon\)</span>，那么还要加上 <span class="arithmatex">\(\text{FIRST}(Y_2)\)</span>，以此类推。</li>
</ul>
</details>
<details class="info">
<summary>Follow 集合的计算方法</summary>
<ul>
<li><strong>Base case</strong>:
    初始化 <span class="arithmatex">\(\text{FOLLOW}(X) = \{\}\)</span>，其中 <span class="arithmatex">\(X\)</span> 是非终结符。</li>
<li><strong>Induction</strong>:<ul>
<li>对于任意字符串 <span class="arithmatex">\(\alpha, \beta\)</span>，如果 <span class="arithmatex">\(Y \rightarrow \alpha X\beta\)</span>，则 <span class="arithmatex">\(\text{FOLLOW}(X) = \text{FOLLOW}(X) \cup \text{FIRST}(\beta)\)</span>。</li>
<li>对于任意字符串 <span class="arithmatex">\(\alpha, \beta\)</span>，如果 <span class="arithmatex">\(Y \rightarrow \alpha X\beta\)</span> 且 <span class="arithmatex">\(\beta \rightarrow^* \epsilon\)</span>，则 <span class="arithmatex">\(\text{FOLLOW}(X) = \text{FOLLOW}(X) \cup \text{FOLLOW}(Y)\)</span>。</li>
</ul>
</li>
</ul>
</details>
<p>现在对于一个产生式 <span class="arithmatex">\(X \rightarrow \gamma\)</span>，推导后的第一个终结符 <span class="arithmatex">\(t\)</span> 可能是：</p>
<ul>
<li>any token in <span class="arithmatex">\(\text{FIRST}(\gamma)\)</span></li>
<li>any token in <span class="arithmatex">\(\text{FOLLOW}(X)\)</span> if <span class="arithmatex">\(\gamma \rightarrow^* \epsilon\)</span></li>
</ul>
<p>从上面可以看出来，有必要知道一个 symbol 是否可以推导出空串。这就引入了 <strong>nullable</strong> 的概念。</p>
<details class="info">
<summary>判断是否是 nullable symbol</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>for each symbol X:
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    Nullable(X) = false
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>repeat
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    for each production X -&gt; Y1Y2...Yk:
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>        if Nullable(Y1) and Nullable(Y2) and ... and Nullable(Yk):
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>            Nullable(X) = true
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>until no change
</span></code></pre></div>
</details>
<details class="example">
<summary>计算 First 和 Follow 集合的例子</summary>
<p>语法：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Z -&gt; X Y Z     Y -&gt; c    X -&gt; a
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Z -&gt; d         Y -&gt;      X -&gt; Y
</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align: center;"></th>
<th style="text-align: center;">Nullable</th>
<th style="text-align: center;">First</th>
<th style="text-align: center;">Follow</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Z</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">a, c, d</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;">Y</td>
<td style="text-align: center;">True</td>
<td style="text-align: center;">c</td>
<td style="text-align: center;">a, c, d</td>
</tr>
<tr>
<td style="text-align: center;">X</td>
<td style="text-align: center;">True</td>
<td style="text-align: center;">a, c</td>
<td style="text-align: center;">a, c, d</td>
</tr>
</tbody>
</table>
</details>
<div class="admonition info">
<p class="admonition-title">几点说明</p>
<ul>
<li>为了让计算过程更高效，我们需要选择合适的检查推导式的顺序</li>
<li>三种概念的计算可以同时进行</li>
</ul>
</div>
<p>有了 First 和 Follow 集合，我们就可以写出一个预测分析器了：</p>
<ul>
<li>如果 <span class="arithmatex">\(t \in \text{FIRST}(\gamma)\)</span>，那么在表格的 <span class="arithmatex">\([X, t]\)</span> 处填入 <span class="arithmatex">\(X \rightarrow \gamma\)</span></li>
<li>如果 <span class="arithmatex">\(\gamma \rightarrow^* \epsilon\)</span> 且 <span class="arithmatex">\(t \in \text{FOLLOW}(X)\)</span>，那么在表格的 <span class="arithmatex">\([X, t]\)</span> 处填入 <span class="arithmatex">\(X \rightarrow \gamma\)</span></li>
</ul>
<details class="example">
<summary>预测分析表的例子</summary>
<p>对于上面的例子，可以得到如下的预测分析表：</p>
<table>
<thead>
<tr>
<th style="text-align: center;"></th>
<th style="text-align: center;">a</th>
<th style="text-align: center;">c</th>
<th style="text-align: center;">d</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Z</td>
<td style="text-align: center;">Z -&gt; X Y Z</td>
<td style="text-align: center;">Z -&gt; X Y Z</td>
<td style="text-align: center;">Z -&gt; X Y Z; Z -&gt; d</td>
</tr>
<tr>
<td style="text-align: center;">Y</td>
<td style="text-align: center;">Y -&gt;</td>
<td style="text-align: center;">Y -&gt; c; Y -&gt;</td>
<td style="text-align: center;">Y -&gt;</td>
</tr>
<tr>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X -&gt; a; X -&gt; Y</td>
<td style="text-align: center;">X -&gt; Y</td>
<td style="text-align: center;">X -&gt; Y</td>
</tr>
</tbody>
</table>
</details>
<p>表格<strong>空项代表语法错误</strong>；<strong>多项</strong>则代表这个语法不是 LL(k) 的。</p>
<p>需要注意的是，对于任意的 k，<strong>LL(k) 语法都是没有歧义的</strong>。</p>
<p>基于语法分析表，我们可以</p>
<ul>
<li>构造一个递归预测分析器</li>
<li>通过栈来实现非递归的预测分析器。</li>
</ul>
<details class="example">
<summary>非递归分析器例子</summary>
<p>假设已经有这样的语法分析表：</p>
<table>
<thead>
<tr>
<th style="text-align: center;">M[N, T]</th>
<th style="text-align: center;">(</th>
<th style="text-align: center;">)</th>
<th style="text-align: center;">$</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">S</td>
<td style="text-align: center;">S-&gt;(S)S</td>
<td style="text-align: center;">S-&gt;ε</td>
<td style="text-align: center;">S-&gt;ε</td>
</tr>
</tbody>
</table>
<p>根据这个表，如果想要对 <code>()$</code> 进行语法分析，步骤如下：</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Steps</th>
<th style="text-align: center;">Parsing Stack</th>
<th style="text-align: center;">Input</th>
<th style="text-align: center;">Action</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">$S</td>
<td style="text-align: center;">()$</td>
<td style="text-align: center;">S-&gt;(S)S</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">$S)S(</td>
<td style="text-align: center;">()$</td>
<td style="text-align: center;">match</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: center;">$S)S</td>
<td style="text-align: center;">)$</td>
<td style="text-align: center;">S-&gt;ε</td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: center;">$S)</td>
<td style="text-align: center;">)$</td>
<td style="text-align: center;">match</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: center;">$S</td>
<td style="text-align: center;">$</td>
<td style="text-align: center;">S-&gt;ε</td>
</tr>
<tr>
<td style="text-align: center;">6</td>
<td style="text-align: center;">$</td>
<td style="text-align: center;">$</td>
<td style="text-align: center;">accept</td>
</tr>
</tbody>
</table>
<p>如果规约，先把表达式左边的东西 pop 出来，再把右边的按照<strong>逆序</strong> push 进去。</p>
<p>如果 match，就把输入的东西 pop 出来。</p>
</details>
<h3 id="23-消除左递归">2.3 消除左递归<a class="headerlink" href="#23-消除左递归" title="Permanent link">&para;</a></h3>
<p>对于上面的第 2 点，如果多个产生式的【可能出现的第一个终结符】相同，那么就需要重写语法，使得只能使用一个产生式。</p>
<p>常见的一种问题是左递归，例如：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>E -&gt; E + T
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>E -&gt; T
</span></code></pre></div>
<p>这个文法表达的是 <code>{T, T+T, T+T+T, ...}</code>，但是<strong>会导致 LL(1) 分析表中一个表格中有多个产生式</strong>。</p>
<p>消除方式为使用右递归：</p>
<div class="language-text highlight"><span class="filename">消除左递归</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>A -&gt; Aα    =&gt;   A -&gt; βA&#39;
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>A -&gt; β          A&#39; -&gt; αA&#39;
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>                A&#39; -&gt; ε
</span></code></pre></div>
<p>在这个例子中，就可以修改为：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>E -&gt; TE&#39;
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>E&#39; -&gt; +TE&#39;
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>E&#39; -&gt; ε
</span></code></pre></div>
<p>这是一种最简单的形式，称为<strong>直接左递归</strong>。还有一种<strong>间接左递归</strong>，也即 <span class="arithmatex">\(A \rightarrow^+ A \alpha\)</span>。</p>
<p>解决方案为<strong>左因子分解</strong>：</p>
<div class="language-text highlight"><span class="filename">左因子分解</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>A -&gt; αβ    =&gt;    A -&gt; αA&#39;
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>A -&gt; αγ          A&#39;-&gt; β | γ | ε
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>A -&gt; a
</span></code></pre></div>
<h3 id="24-错误恢复">2.4 错误恢复<a class="headerlink" href="#24-错误恢复" title="Permanent link">&para;</a></h3>
<p>我们当然可以选择遇到错误直接报异常并退出。但是能不能有更加高效的方法呢？能不能一次报出多个错误呢？</p>
<p>我们可以通过删除、替换或插入 tokens 来进行错误恢复。</p>
<p>// TODO: 这里需要补充一些例子</p>
<h2 id="3-自底向上的语法分析器">3. 自底向上的语法分析器<a class="headerlink" href="#3-自底向上的语法分析器" title="Permanent link">&para;</a></h2>
<p>与自顶向下的 parser 相反，这种语法分析器从语法树的叶子结点出发，对应着构建一个语法树的过程。它的工作是从输入的 token 序列开始，逐步推导出起始符号。Shift-Reduce Parser 就是一个典型的自底向上的语法分析器。</p>
<ul>
<li>LR(k) 语法<ul>
<li>是 Shift-Reduce 语法分析器所能识别的最大的语法集合</li>
<li>比 LL(k) 语法更强大：能够推迟产生式的选择，直到能看见推导式右边的所有 token 之后再决定使用哪个产生式</li>
<li>LR(k) 的含义是：<ul>
<li>L：从左到右扫描输入</li>
<li>R：最右推导</li>
<li>k：k 个向前看的 token</li>
</ul>
</li>
</ul>
</li>
<li>LALR 变种语法<ul>
<li>是大多数现代编程语言语法分析器的基础</li>
<li>在诸如 Yacc 的工具中使用</li>
</ul>
</li>
</ul>
<h3 id="31-自底向上的思想">3.1 自底向上的思想<a class="headerlink" href="#31-自底向上的思想" title="Permanent link">&para;</a></h3>
<ul>
<li>Idea：从 string 开始进行 <strong>reduce</strong>，直到得到 start symbol</li>
<li>reduce 可以看作是 derive 的逆过程：将产生式右边的 symbol 替换为产生式左边的 symbol</li>
<li>其工作方式也是自左向右扫描 input，<strong>重要的是需要知道在哪个地方进行 reduce</strong></li>
</ul>
<h3 id="32-工作的流程">3.2 工作的流程<a class="headerlink" href="#32-工作的流程" title="Permanent link">&para;</a></h3>
<ol>
<li>首先我们把输入用一个点号区分成两部分（例如 <span class="arithmatex">\(\alpha . \beta\)</span>）：<ul>
<li>左边是已经处理的部分，包含终止符与非终止符</li>
<li>右边是未处理的部分，只包含终止符</li>
</ul>
</li>
<li>维护了一个语法分析状态栈，里面放的是已经处理过的部分</li>
<li>语法分析有以下动作：<ol>
<li><strong>Shift</strong>：将下一个 token 移入状态栈的顶部</li>
<li><strong>Reduce R</strong>：<ul>
<li>栈顶 match 规则 R 的右边</li>
<li>把匹配的部分 pop</li>
<li>将 R 的左边 push 进栈</li>
</ul>
</li>
<li><strong>Accept</strong>：当栈顶是 start symbol，且输入已经处理完毕</li>
<li><strong>Error</strong></li>
</ol>
</li>
</ol>
<p>那么如何知道何时 shift，何时 reduce 呢？这就需要一个 LR 语法分析表。</p>
<h3 id="33-lr0-语法分析器的构建">3.3 LR(0) 语法分析器的构建<a class="headerlink" href="#33-lr0-语法分析器的构建" title="Permanent link">&para;</a></h3>
<p>LR(0) 语法是最简单的一种 LR 语法，它在做 shift/reduce 决定的时候<strong>不需要向前看输入，只需要看 stack</strong>。我们通过列举出所有可能的 parsing state，然后构建一个状态机来实现。</p>
<p>实际上我们是通过先构建一个 NFA，再通过 epsilon 闭包来构建 DFA。由于这里的 NFA 比较简单，相比于 DFA 只包含了一些 epsilon 边，所以我们可以直接构建 DFA。</p>
<p>// TODO：具体的算法</p>
<p>构建完 DFA 之后，就可以画出 parsing table 了。</p>
<div class="admonition note">
<p class="admonition-title">LR Parsing Table 的构建方法</p>
<p>对每一个状态：</p>
<ol>
<li>经过终结符的边进入的状态，填入 shift+状态号</li>
<li>经过非终结符的边进入的状态，填入 goto+状态号</li>
<li>如果状态中有产生式的右边已经被 match 完成，在这一行的所有终结符格子填入 reduce+产生式号</li>
<li>如果状态中有产生式的右边已经被 match 完成，且这个产生式是 start symbol，填入 accept</li>
</ol>
</div>
<h3 id="34-slr-语法分析器的构建">3.4 SLR 语法分析器的构建<a class="headerlink" href="#34-slr-语法分析器的构建" title="Permanent link">&para;</a></h3>
<p>Simple LR Parsing。与 LR(0) 唯一的不同就在于，SLR 构建的时候，遇到 reduce 的情况，<strong>只在 Follow(X) 集合中的终结符的格子填入 reduce</strong>。也就是说，SLR 语法分析器的 parsing table 中，只有在 Follow 集合中才会有 reduce 的动作。</p>
<h3 id="35-lr1-语法分析器的构建">3.5 LR(1) 语法分析器的构建<a class="headerlink" href="#35-lr1-语法分析器的构建" title="Permanent link">&para;</a></h3>
<p>LR(1) 与 LR(0) 的区别在于，LR(1) 在做 shift/reduce 决定的时候<strong>需要向前看一个 token</strong>。也就是说，LR(1) 的 parsing table 中，shift/reduce 决定是基于当前状态和下一个 token 的。</p>
<p>LR(1) item 长这样：</p>
<div class="arithmatex">\[
(A \rightarrow \alpha . \beta, x)
\]</div>
<p>对于这样一个 item，下一个 token 应当是 First(<span class="arithmatex">\(\beta x\)</span>) 中的一个 token，其中 <span class="arithmatex">\(\beta\)</span> 可以是空串。</p>
<p>需要注意的是，对于 LR(1) 来说，两个状态即使包含完全相同的产生式与 dot 位置，如果 "x" 不同，那么它们也是不同的状态。</p>
<p>剩下的 parsing table 构建方法与 LR(0) 一致，只不过在 reduce 的时候，<strong>只在 "x" 中的终结符的格子填入 reduce</strong>。</p>
<h3 id="36-lalr1-语法分析器的构建">3.6 LALR(1) 语法分析器的构建<a class="headerlink" href="#36-lalr1-语法分析器的构建" title="Permanent link">&para;</a></h3>
<p>由于 LR(1) 的 parsing table 可能比较大，包含比较多的状态，所以我们可以将 LR(1) 的 parsing table 中的状态进行合并，得到 LALR(1) 的 parsing table。LALR(1) 的 parsing table 中的状态数目比 LR(1) 的要少。</p>
<p>合并的方法是：如果两个状态有相同的产生式和 dot 位置，但是不同的 "x"，那么就可以将它们合并成一个状态。合并之后，LALR(1) 的 parsing table 中的状态数目会减少，但是仍然能够保持 LR(1) 的解析能力。</p>
<p>需要注意的是，LALR(1) 的 parsing table 可能包含 LR(1) 中不存在的 reduce-reduce 冲突，但是实操上来说基本不影响，换来的是更少的内存占用。</p>
<h3 id="37-对有歧义语法的-lr-语法分析">3.7 对有歧义语法的 LR 语法分析<a class="headerlink" href="#37-对有歧义语法的-lr-语法分析" title="Permanent link">&para;</a></h3>
<p>大多数编程语言的语法可能包含如下所示的规则：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>S -&gt; if E then S else S
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>S -&gt; if E then S
</span></code></pre></div>
<p>那么对于语句 <code>if a then if b then s1 else s2</code> 来说，就有两种解释方式：</p>
<ol>
<li><code>if a then {if b then s1 else s2}</code></li>
<li><code>if a then {if b then s1} else s2</code></li>
</ol>
<p>而在大多数语言的定义中，<code>else</code> 会匹配最近的 <code>then</code>，因此一般采用第一种解释方式。</p>
<p>如何解决呢？</p>
<div class="admonition example">
<p class="admonition-title">方案一：引入新的非终结符</p>
<p>我们引入 M 代表匹配的 <code>if</code>（也即所有的 <code>then</code> 都被匹配了），U 代表没有匹配的 <code>if</code>（存在没有被匹配的 <code>then</code>），那么就可以改写为：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>S -&gt; M
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>S -&gt; U
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>M -&gt; if E then M else M
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>M -&gt; other
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>U -&gt; if E then S
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>U -&gt; if E then M else U     # 这里的 $4 必须是 M 的原因是，如果为 U 的话前后抵消，又变成全部匹配的了
</span></code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">方案二：修改分析表</p>
<p>上述歧义实际上是一种 shift-reduce 冲突，我们可以保持语法不变，而在分析表中遇到这个冲突的时候，<strong>优先选择 shift</strong>。</p>
<p>需要注意的是，大多数的 s-r 冲突，以及可能所有的 r-r 冲突，都是语法设计不恰当的表现，最好是<strong>修改语法以消除冲突</strong>。</p>
</div>
<h2 id="4-yacc一种语法分析器生成器">4. Yacc：一种语法分析器生成器<a class="headerlink" href="#4-yacc一种语法分析器生成器" title="Permanent link">&para;</a></h2>
<p>如何实现一个语法分析器呢？</p>
<ol>
<li>手写</li>
<li>使用自动的语法分析器的生成器，其特点是：<ul>
<li>通用、稳定（鲁棒）</li>
<li>有时不如手写的分析器效率高</li>
<li>懒人友好</li>
</ul>
</li>
</ol>
<p><strong>Yacc</strong>（Yet Another Compiler-Compiler）是一种语法分析器生成器。它的工作是：</p>
<ul>
<li>输入：<code>.y</code> 后缀的语法描述文件</li>
<li>输出：包含语法分析器实现的 C 语言源代码</li>
</ul>
<p>Yacc 的使用方法类似于 Lex，其描述文件包含：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>{definitions}
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>%%
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>{rules}
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>%%
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>{auxiliary routines}
</span></code></pre></div>
<h3 id="41-辅助函数">4.1 辅助函数<a class="headerlink" href="#41-辅助函数" title="Permanent link">&para;</a></h3>
<p>可以使用以下辅助函数：</p>
<ul>
<li><code>yyparse()</code>：会自动调用语法分析器进行语法检查，返回 0 表示成功，1 表示失败。其内部会调用 <code>yylex()</code> 函数来获取下一个 token，获取到 null value 0 的时候，代表输入结束。<code>yylex()</code> 返回 0 或者 token 类型，其中变量 <code>yylval</code> 用来存储 token 的语义值（会在后续被压入 value 栈）。</li>
<li><code>yyerror()</code>：语法分析器遇到错误时调用的函数。</li>
</ul>
<h3 id="42-定义部分">4.2 定义部分<a class="headerlink" href="#42-定义部分" title="Permanent link">&para;</a></h3>
<p>Token 的声明可以放在定义部分，有两种方式：</p>
<ul>
<li>使用单引号包裹的东西会被识别成自身，例如 <code>'+'</code></li>
<li>使用 <code>%token</code> 来声明：<ul>
<li><code>%token</code> 声明的 token 是终结符</li>
<li><code>%start</code> 声明的 token 是起始符号</li>
</ul>
</li>
</ul>
<h3 id="43-规则部分">4.3 规则部分<a class="headerlink" href="#43-规则部分" title="Permanent link">&para;</a></h3>
<p>规则部分包含了语法分析的规则，格式类似于 Lex，都是规则 + {动作函数}。</p>
<ul>
<li>如果分析器确实使用了这一条规则进行 reduce，则会执行 action code</li>
<li>Action code 可以放在语法规则的最后面，也可以放在规则的中间。<ul>
<li>例如 <code>decl: type {current_type = $1;} var-list</code> 这样写就可以在匹配到 <code>type</code> 的时候立即存储当前的类型到 <code>current_type</code> 变量中。</li>
<li>需要注意的是，上面 <code>{current_type = $1;}</code> 也是一个占位符，所以如果后面 <code>var-list</code> 也有语义值，就应该是 <code>$3</code>，而不是 <code>$2</code>。</li>
</ul>
</li>
<li>执行 action code 的时候，可以用 <code>$$</code> 来表示当前规则的值，<code>$1</code>、<code>$2</code> 等来表示当前规则的第 1、2 个值。这些值是<ul>
<li>语法分析器在语法树中对应的节点</li>
<li>语义值栈中的值</li>
<li>语义值的类型声明可以用类似 <code>#define YYSTYPE int</code> 的方式来声明<ul>
<li>如果遇到了不同的类型需要存储，使用 <code>%union</code> 来声明，使用 <code>%type</code> 来声明类型</li>
<li>例如 <code>$$ = $1 + $3</code>，实际干的事情是 <code>(yyval.val)=(yyvsp[1-3].val) + (yyvsp[3-3].val)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Yacc 会报告 s-r 冲突与 r-r 冲突，此外，它还有一套默认的处理方式：</p>
<ul>
<li>s-r 冲突：优先选择 shift</li>
<li>r-r 冲突：优先选择在语法规则中更早出现的规则</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">关于冲突</p>
<p>如前面所说，大多数的 s-r 冲突，以及可能所有的 r-r 冲突，都是语法设计不恰当的表现，最好是<strong>修改语法以消除冲突</strong>。</p>
</div>
<h3 id="44-优先级声明">4.4 优先级声明<a class="headerlink" href="#44-优先级声明" title="Permanent link">&para;</a></h3>
<p>对于四则运算，我们已经知道如果简单地声明类似 <code>E -&gt; E + E; E -&gt; E - E; E -&gt; E * E; E -&gt; E / E</code> 的语法，会导致歧义。之前的讨论中，我们也知道可以通过增加新的非终结符来实现。但是加入非终结符之后，语法变得不自然、难理解。有没有一种方法使得我们写的还是自然语法，但同时能够保成优先级与结合性呢？</p>
<p>Yacc 提供了 precedence directives 来实现这个功能。它的语法如下：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>%nonassoc EQ NEQ
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>%left PLUS MINUS
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>%left TIMES DIV
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>%right EXP
</span></code></pre></div>
<p>其中：</p>
<ul>
<li>加减法具有相同的优先级，且是左结合的</li>
<li>乘除法写在加减法下面，具有<strong>更高的优先级</strong>，且也是左结合的</li>
<li>EXP 运算符是右结合的</li>
<li>EQ 和 NEQ 运算符写在最上面，具有<strong>最低的优先级</strong>，且是非结合的（也即诸如 <code>a == b == c</code> 是错误的）</li>
</ul>
<details class="info">
<summary>Yacc 是如何实现这些特性的</summary>
<ul>
<li>这些声明为 tokens 的优先级排序了</li>
<li>shift 一个 token 的优先级取决于 token 本身的优先级</li>
<li>reduce 一个 rule 的优先级取决于规则最右边的 token 的优先级</li>
</ul>
<ol>
<li>遇到 s-r 冲突的时候，看两者优先级</li>
<li>如果规则比 token 优先级高，那么就 reduce，反之 shift</li>
<li>如果优先级相同：<ol>
<li>如果是左结合的，那么就 reduce</li>
<li>如果是右结合的，那么就 shift</li>
<li>如果是非结合的，那么就报错</li>
</ol>
</li>
</ol>
</details>
<details class="example">
<summary>更多特性</summary>
<p><code>-6*8</code> 应该表示为 <code>(-6)*8</code>，而不是 <code>-(6*8)</code>。我们可以通过 <code>%prec</code> 来实现：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>%token INT PLUS MINUS TIMES UMINUS
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>%start exp
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>%left PLUS MINUS
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>%left TIMES
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>%left UMINUS
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>%%
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>exp : INT
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>| exp PLUS exp
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>| exp MINUS exp
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>| exp TIMES exp
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>| MINUS exp %prec UMINUS   // UMINUS 永远不会由 lexer 产生，这只是一个占位符
</span></code></pre></div>
<p>这样操作后，<code>exp: MINUS exp</code> 将会拥有最高的优先级。</p>
</details>
<p>还有一些小问题，比如算术运算与逻辑运算之间的类型匹配，例如 <code>a + 5&amp;b</code>。这个式子是语法正确的，但是这个表达式是不对的，我们的解决方案是<strong>推迟到语义分析阶段</strong>来解决这个问题。</p>
<h2 id="5-错误恢复">5. 错误恢复<a class="headerlink" href="#5-错误恢复" title="Permanent link">&para;</a></h2>
<p>如前面所述，开发者希望语法分析器能够一次检查出所有的错误，而不是在遇到第一个错误时就停止。</p>
<p>存在两种错误恢复机制：</p>
<ul>
<li>Local Error Recovery</li>
<li>Global Error Repair</li>
</ul>
<h3 id="51-local-error-recovery">5.1 Local Error Recovery<a class="headerlink" href="#51-local-error-recovery" title="Permanent link">&para;</a></h3>
<p>尝试在遇到错误的时候调整 parsing stack 和 input 使得语法分析能够继续进行下去。</p>
<div class="admonition example">
<p class="admonition-title">Yacc 使用的一种局部错误恢复技术</p>
<p>使用一个特殊的 <code>error</code> 符号来控制恢复过程，例如：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>exp -&gt; ID
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>exp -&gt; exp + exp
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>exp -&gt; (exps)
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>exps -&gt; exp
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>exps -&gt; exps ; exp
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>exp -&gt; (error)
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>exps -&gt; error ; exp
</span></code></pre></div>
<p>这样就可以在遇到错误的时候，跳过当前的 token 直到下一个分号或者右括号。例如输入 <code>(ID++)$</code>，其解析过程为：</p>
<p><img alt="image.png" src="https://s2.loli.net/2025/04/13/KN5RJySxuTlMcFh.png" width="50%" /></p>
</div>
<p>简单地说，LR 分析器遇到错误状态时，采取以下动作：</p>
<ol>
<li>pop stack 直到进入一个能够 shift error token 的状态</li>
<li>shift error token</li>
<li>忽略输入，直到遇到一个在当前的 lookahead token 下能够执行 non-error 操作的状态</li>
<li>恢复正常语法分析</li>
</ol>
<p>需要注意的是，这里的 pop 操作可能导致一些正常语法分析不会出现的状况，尤其是语义动作会有副作用的情况。（解决方案是尽量避免使用副作用）</p>
<h3 id="52-global-error-repair">5.2 Global Error Repair<a class="headerlink" href="#52-global-error-repair" title="Permanent link">&para;</a></h3>
<p>Local 的错误修复可能遇到一些无法修复的问题。其根源在于只能修改当前的符号，而错误可能出现在更早的符号上。</p>
<details class="example">
<summary>举个例子</summary>
<p>// TODO</p>
</details>
<p>Global 的错误修复可以找到最小的插入删除操作，使得输入的 token 序列能够被语法分析器接受。</p>
<p>例如 Burke-Fisher 算法：它会对报错位置前面最多 K 个符号，尝试所有可能的单符号插入替换等操作，使得语法正确。如何选择修复方式呢？如果这种修复在当前不会报错，且在修复之后还能再继续往后检查 R 个 token，那么就选择这种修复方式。这个 R 一般是 4。</p>
<p>值得注意的是，这种方式需要备份已经 parse 的 token，使用额外的 old stack 进行保存。</p>







  
  






  <!-- <h2 id="__comments">评论</h2> -->
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
    data-repo="Flyburg/notebook"
    data-repo-id="R_kgDOJ2i3-Q"
    data-category="Announcements"
    data-category-id="DIC_kwDOJ2i3-c4CXtT_"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="zh-CN"
    crossorigin="anonymous"
    async>
</script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 - 2025 零式岚
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://blog.flyburg.cc/" target="_blank" rel="noopener" title="Blog" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M224 24c0-13.3 10.7-24 24-24 145.8 0 264 118.2 264 264 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-119.3-96.7-216-216-216-13.3 0-24-10.7-24-24M80 96c26.5 0 48 21.5 48 48v224c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48c-8.8 0-16-7.2-16-16v-64c0-8.8 7.2-16 16-16 79.5 0 144 64.5 144 144s-64.5 144-144 144S32 447.5 32 368V144c0-26.5 21.5-48 48-48m168 0c92.8 0 168 75.2 168 168 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-66.3-53.7-120-120-120-13.3 0-24-10.7-24-24s10.7-24 24-24"/></svg>
    </a>
  
    
    
    
    
    <a href="https://space.bilibili.com/85414704" target="_blank" rel="noopener" title="Bilibili" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92c-26.4-.8-48.2-9.8-65.3-27.2S.7 396.5 0 368.2V169.8c.8-26 9.7-47.6 26.7-65.7C43.8 87.8 65.5 78.8 92 78h29.4L96 52.2c-5.7-5.7-8.6-13-8.6-21.8S90.3 14.3 96 8.6 109 0 117.9 0s16.1 2.9 21.9 8.6L213.1 78h88l74.5-69.4C381.7 2.9 389.2 0 398 0s16.1 2.9 21.9 8.6c5.7 5.7 8.6 13 8.6 21.8s-2.9 16.1-8.6 21.8L394.6 78h29.3c26.4.8 48 9.8 64.7 26.1m-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96c-9.6.4-17.4 3.7-23.6 9.8-6.1 6.1-9.4 13.9-9.8 23.5v194.4c0 9.2 3.3 17 9.8 23.5s14.4 9.8 23.6 9.8h320.4c9.2 0 17-3.3 23.3-9.8s9.7-14.3 10.1-23.5zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5s-17.5-3.2-23.6-9.5-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2s13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10m191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2s-14 9.5-23.6 9.5-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2s14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/flyburg" target="_blank" rel="noopener" title="GitHub | Flyburg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<flyburg@outlook.com>" target="_blank" rel="noopener" title="Email" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "navigation.tracking", "navigation.tabs", "navigation.top", "navigation.indexes", "search.share", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="../../../javascripts/article-cards.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>